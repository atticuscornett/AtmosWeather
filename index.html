<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<title>Atmos Weather - A better weather app</title>
		<link href="favicon.svg" rel="icon" type="image/x-icon" />
		
		<!-- Font Imports -->
		<style>
			@font-face {
    			font-family: "Secular One";
   				src: url("SecularOne-Regular.ttf");
			}
			@font-face {
    			font-family: "Lexend Deca";
    			src: url("LexendDeca-VariableWeight.ttf");
			}
		</style>
		
		<!-- Main Styling -->
		<style>
			body{
				background-color: black;
				color: white;
				margin: 50px;
			}
			h1, h2{
				font-family: Secular One;
			}
			h3, h4, h5, h6{
				font-family: Lexend Deca;
			}
			h4{
				font-size: 25px;
			}
			h1{
				font-size: 50px;
			}
			h2{
				font-size: 30px;
			}
			.downloadButton{
				display: inline-block;
				margin-right: 20px;
			}
			.gradient-title{
				background: rgb(41,171,226);
   				background: linear-gradient(90deg, rgba(41,171,226,1) 0%, rgba(0,169,157,1) 100%);
    			color: transparent;
    			-webkit-background-clip: text;
    			background-clip: text;
			}
			@media (orientation: portrait) {
				h4{
					font-size: 50px;
				}
				img{
					width: 75px;
				}
			}

			.migration-header {
				background: linear-gradient(90deg, rgba(41,171,226,1) 0%, rgba(0,169,157,1) 100%);
				padding: 30px;
				border-radius: 10px;
				margin-bottom: 30px;
			}
		</style>
	</head>
	<body>
		<img src="logo.svg" style="width: 400px;">
		<h1 class="gradient-title">The future of weather alerts is here.</h1>
		<h2>Atmos Weather is the ultimate lightweight weather forecast and alert app.<br>
			Unlike other apps, it isn't bloated with ads and doesn't put profit before user experience.<br>
			It's cross-platform, so you can get weather alerts on the go or at home.<br>
			Best of all, it's 100% free.</h2>
		<br>
		<h2>Get the app</h2>
		<h4>Latest Version</h4>
		<h5>Automatically Download Best Version For Device</h5>
		<a id="autodownload" href="platforms/browser/www/index.html" target="_blank" style="color:white;text-decoration: none;">
			<div class="downloadButton">
				<div id="autoDown" style="background-color: green;vertical-align: middle;display: flex;border:none;border-radius: 7px;cursor: pointer;">
					<h4 style="display: inline;height: 100%;margin-left:20px;">Auto Download</h4>
					<img src="webIcons/download.svg" style="margin-left:10px;margin-right:20px;">
				</div>
			</div>
		</a>
		<br><h5></h5>
		<a href="www/index.html" target="_blank" style="color:white;text-decoration: none;">
			<div class="downloadButton">
				<div id="browserLaunch" style="background-color: gray;vertical-align: middle;display: flex;border:none;border-radius: 7px;cursor: pointer;">
					<h4 style="display: inline;height: 100%;margin-left:5px;">Web Version</h4>
					<img src="webIcons/browser.svg" style="margin-left:2.5px;margin-right:5px;">
				</div>
				<h6>Requires modern browser.<br>Limited features.</h6>
			</div>
		</a>
		<a id="download-win_x64" target="_blank" style="color:white;text-decoration:none;">
			<div class="downloadButton">
				<div id="windowsDown"  style="background-color: dodgerblue;vertical-align: middle;align-content: center; display: flex;border:none;border-radius: 7px;cursor: pointer;">
					<h4 style="display: inline;height: 100%;margin-left:20px;">Windows</h4>
					<img src="webIcons/windows.svg" style="margin-left:10px;margin-right:20px;">
				</div>
				<h6>Requires Windows 10 or above.<br>Unsigned.</h6>
			</div>
		</a>
		<a id="download-android" target="_blank" style="color:white;text-decoration:none;">
			<div class="downloadButton">
				<div id="androidDown"  style="background-color: limegreen;vertical-align: middle;align-content: center; display: flex;border:none;border-radius: 7px;cursor: pointer;">
					<h4 style="display: inline;height: 100%;margin-left:20px;">Android</h4>
					<img src="webIcons/android.svg" style="margin-left:10px;margin-right:20px;">
				</div>
				<h6>Requires Android 6 or above.<br>Uses sideloading.</h6>
			</div>
		</a>
		<a href="https://github.com/atticuscornett/AtmosWeather" target="_blank" style="color:white;text-decoration: none;">
			<div class="downloadButton">
				<div id="githubView"  style="background-color: rebeccapurple; vertical-align: middle;align-content: center; display: flex;border:none;border-radius: 7px;cursor: pointer;">
					<h4 style="display: inline;height: 100%;margin-left:20px;">GitHub</h4>
					<img src="webIcons/github.svg" style="margin-left:10px;margin-right:20px;">
				</div>
				<h6>View source on GitHub.<br>&emsp;</h6>
			</div>
		</a>
		<br>
		<h3>macOS Builds</h3>
		<h6>Intel-based Macs should use the x64 download. Apple Silicon Macs (such as those with the M1 chip) should use the ARM download.
		<br><a href="https://support.apple.com/guide/mac-help/open-a-mac-app-from-an-unidentified-developer-mh40616/mac" target="_blank">Mac Installation Help</a>
		</h6>
		<a id="download-mac_x64" target="_blank" style="color:white;text-decoration:none;">
			<div class="downloadButton">
				<div id="macDown"  style="background-color: blue;vertical-align: middle;align-content: center; display: flex;border:none;border-radius: 7px;cursor: pointer;">
					<h4 style="display: inline;height: 100%;margin-left:20px;">macOS x64</h4>
					<img src="webIcons/macos.svg" style="margin-left:10px;margin-right:20px;">
				</div>
				<h6>Unsigned and untested.</h6>
			</div>
		</a>
		<a id="download-mac_arm64" target="_blank" style="color:white;text-decoration:none;">
			<div class="downloadButton">
				<div id="macDown2"  style="background-color: blue;vertical-align: middle;align-content: center; display: flex;border:none;border-radius: 7px;cursor: pointer;">
					<h4 style="display: inline;height: 100%;margin-left:20px;">macOS Silicon (arm64)</h4>
					<img src="webIcons/macos.svg" style="margin-left:10px;margin-right:20px;">
				</div>
				<h6>Unsigned and untested.</h6>
			</div>
		</a>
		<br>
		<h3>Linux Builds</h3>
		<h6>Deb builds are for Debian-based distros, such as Debian, Ubuntu, Linux Mint, and Raspberry Pi OS.</h6>
		<a id="download-deb_x64" target="_blank" style="color:white;text-decoration:none;">
			<div class="downloadButton">
				<div id="linuxDown"  style="background-color: purple;vertical-align: middle;align-content: center; display: flex;border:none;border-radius: 7px;cursor: pointer;">
					<h4 style="display: inline;height: 100%;margin-left:20px;">Linux (deb) x64</h4>
					<img src="webIcons/linux.svg" style="margin-left:10px;margin-right:20px;">
				</div>
				<h6>Unsigned and untested.<br>.deb x64</h6>
			</div>
		</a>
		<a id="download-deb_arm64" target="_blank" style="color:white;text-decoration:none;">
			<div class="downloadButton">
				<div id="linuxDown2"  style="background-color: purple;vertical-align: middle;align-content: center; display: flex;border:none;border-radius: 7px;cursor: pointer;">
					<h4 style="display: inline;height: 100%;margin-left:20px;">Linux (deb) arm64</h4>
					<img src="webIcons/linux.svg" style="margin-left:10px;margin-right:20px;">
				</div>
				<h6>Unsigned and untested.<br>.deb arm64</h6>
			</div>
		</a>
		<a id="download-deb_armv7l" target="_blank" style="color:white;text-decoration:none;">
			<div class="downloadButton">
				<div id="linuxDown3"  style="background-color: purple;vertical-align: middle;align-content: center; display: flex;border:none;border-radius: 7px;cursor: pointer;">
					<h4 style="display: inline;height: 100%;margin-left:20px;">Linux (deb) armv7l</h4>
					<img src="webIcons/linux.svg" style="margin-left:10px;margin-right:20px;">
				</div>
				<h6>Unsigned and untested.<br>.deb armv7l (32-bit RaspPi)</h6>
			</div>
		</a>
		<a id="download-tar" target="_blank" style="color:white;text-decoration:none;">
			<div class="downloadButton">
				<div id="linuxDown4"  style="background-color: peru;vertical-align: middle;align-content: center; display: flex;border:none;border-radius: 7px;cursor: pointer;">
					<h4 style="display: inline;height: 100%;margin-left:20px;">Linux .tar.gz</h4>
					<img src="webIcons/zip.svg" style="margin-left:10px;margin-right:20px;">
				</div>
				<h6>Unsigned and untested.<br>&emsp;</h6>
			</div>
		</a>
		<br><br>
		<h3>Having trouble installing? Check out our <a href="https://github.com/atticuscornett/AtmosWeather/blob/main/INSTALLATION.md" target="_blank">installation help document.</a></h3>
		<br>
		<h4>Want to download the version made for the Congressional App Challenge?</h4>
		<h5><a href="https://github.com/atticuscornett/AtmosWeather/releases/download/v1.0.0/atmos-weather-windows.exe" target="_blank" style="color:white;">Windows</a>&emsp;<a href="https://github.com/atticuscornett/AtmosWeather/releases/download/v1.0.0/atmos-weather-android.apk" target="_blank" style="color:white;">Android</a>&emsp;<a href="https://atticuscornett.github.io/AtmosWeather/congressional-app-challenge/www/index.html" target="_blank" style="color:white;">Web Preview</a></h5>
		<br>
		<br><br>
		<h1 class="gradient-title">Total Control</h1>
		<h2>Atmos lets you control everything about weather alerts.<br>Recieve weather alerts for multiple locations? Done.<br>Choose which types of alerts you get? Done.<br>Dyanamic alerting based on when you are driving? Done.</h2>
		<br><br><br><br>
		<h1 class="gradient-title">Better Alerts</h1>
		<h2>Classic weather alerts are text only.<br>Atmos provides maps so you can get the full picture<br>and understand the storms.</h2>
   		<br><br><br><br>
		<h1 class="gradient-title">Desktop + Mobile</h1>
		<h2>Most weather apps only provide active alerts on mobile.<br>Atmos provides weather alerts on desktop and mobile,<br> so you never miss an alert.</h2>
		<br><br><br><br>
		<h1 class="gradient-title">Reliable Data</h1>
		<h2>Atmos directly uses the National Weather Service API.<br>Rest assured, you are getting reliable data from<br>the nation's top weather agency.</h2>
		<br><br><br><br>
		<h1 class="gradient-title">Free + Lightweight</h1>
		<h2>No ads, no subscription, and no bloatware.<br>How do we achieve this?<br>Atmos relies on free services and APIs, so there are no server costs.<br>It is maintained by volunteers.<br>No cost to us = No cost to you.</h2>
		<h1 class="gradient-title">Privacy Focused</h1>
		<h2>Atmos doesn't track you or sell your data.<br>No accounts, no tracking, no analytics.<br>Check out our <a href="https://atticuscornett.github.io/AtmosWeather/privacy.html" target="_blank">privacy policy</a> for more information.</h2>
		<script>
			let releaseVersions = {};
			let getLatestRelease = async () => {
				let latestRelease = await fetch("https://api.github.com/repos/atticuscornett/AtmosWeather/releases/latest");
				latestRelease = await latestRelease.json();
				let releaseAssets = latestRelease.assets;
				console.log(releaseAssets)

				// Sort assets by type and architecture
				for (let i = 0; i < releaseAssets.length; i++){
					let thisAsset = releaseAssets[i];
					if (thisAsset.name.endsWith(".exe")){
						releaseVersions["win_x64"] = thisAsset;
					}
					else if (thisAsset.name.endsWith(".apk")){
						releaseVersions["android"] = thisAsset;
					}
					else if (thisAsset.name.endsWith("arm64.dmg") || thisAsset.name.endsWith("silicon.dmg")){
						releaseVersions["mac_arm64"] = thisAsset;
					}
					else if (thisAsset.name.endsWith(".dmg")){
						releaseVersions["mac_x64"] = thisAsset;
					}
					else if (thisAsset.name.endsWith(".tar.gz")){
						releaseVersions["tar"] = thisAsset;
					}
					else if (thisAsset.name.endsWith("amd64.deb")){
						releaseVersions["deb_x64"] = thisAsset;
					}
					else if (thisAsset.name.endsWith("armv7l.deb")){
						releaseVersions["deb_armv7l"] = thisAsset;
					}
					else if (thisAsset.name.endsWith("arm64.deb")){
						releaseVersions["deb_arm64"] = thisAsset;
					}
				}

				for (let key in releaseVersions){
					let thisAsset = releaseVersions[key];
					let downloadButton = document.getElementById("download-" + key);
					downloadButton.setAttribute("href", thisAsset.browser_download_url);
				}

				document.getElementById("autodownload").setAttribute("href", releaseVersions[getBestDownload()].browser_download_url);
			}
			function getBestDownload(){
				var nav = window.navigator.userAgent.toLocaleLowerCase();
				if (nav.includes("win")){
					return "win_x64";
				}
				else if (nav.includes("android") || navigator.platform.includes("Android")){
					return "android";
				}
				else if (nav.includes("mac") || navigator.platform.includes("Mac")){
					if (nav.includes("arm")){
						return "mac_arm64";
					}
					else{
						return "mac_x64";
					}
				}
				else{
					if (nav.includes("arm")){
						if (nav.includes("armv7l")){
							return "deb_armv7l";
						}
						else{
							return "deb_arm64";
						}
					}
					else{
						return "deb_x64";
					}
				}
			}
			getLatestRelease();
		</script>
	</body>
</html>
